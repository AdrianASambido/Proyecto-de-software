{% macro render_order_selector(orders, order='', action_url='', additional_params={}) %}
<div class="inline-flex flex-wrap items-center gap-2 w-full sm:w-auto">
  <form action="{{ action_url }}" method="get" id="orderForm" class="w-full sm:w-auto">
    {# Incluir par√°metros adicionales (como filtros) excepto 'order' #}
    {% for key, value in additional_params.items() %}
      {% if key != 'order' %}
        {% if value is iterable and value is not string %}
          {% for v in value %}
            <input type="hidden" name="{{ key }}" value="{{ v }}">
          {% endfor %}
        {% else %}
          <input type="hidden" name="{{ key }}" value="{{ value }}">
        {% endif %}
      {% endif %}
    {% endfor %}

    <select
      id="orderSelect"
      name="order"
      onchange="document.getElementById('orderForm').submit()"
      class="w-full sm:w-auto px-3 py-2 bg-neutral-700 border border-neutral-600 rounded-md
             text-neutral-100 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent
             cursor-pointer transition-colors hover:bg-neutral-600"
    >
      <option value="" disabled {% if not order %}selected{% endif %}>Seleccionar ordenamiento</option>
      {% for option in orders %}
        <option value="{{ option.value }}" {% if option.value == order %}selected{% endif %}>
          {{ option.label }}
        </option>
      {% endfor %}
    </select>
  </form>
</div>
{% endmacro %}
